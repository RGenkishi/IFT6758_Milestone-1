<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2021-12-02T16:29:52-05:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Projet IFT-6758 _ Milestone 2</title><subtitle>Science des données appliquées au jeu de hockey</subtitle><entry><title type="html">Ingénierie des caractéristiques</title><link href="http://localhost:4000/jekyll/update/2021/11/30/2-Feature_Engineering.html" rel="alternate" type="text/html" title="Ingénierie des caractéristiques" /><published>2021-11-30T12:30:07-05:00</published><updated>2021-11-30T12:30:07-05:00</updated><id>http://localhost:4000/jekyll/update/2021/11/30/2-Feature_Engineering</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/11/30/2-Feature_Engineering.html">&lt;h1 id=&quot;question-1&quot;&gt;Question 1&lt;/h1&gt;

&lt;h5 id=&quot;créez-et-comprennent-les-figures-suivants-dans-votre-blogpost-et-brièvement-discutez-vos-observations-quelques-phrases-un-histogramme-de-nombre-de-tirs-buts-et-non-buts-séparés-regroupées-binned-par-distanceun-histogramme-de-nombre-de-tirs-buts-et-non-buts-séparés-binned-par-angle-un-histogramme-2d-où-un-axe-est-la-distance-et-lautre-est-langle-vous-navez-pas-besoin-de-séparer-les-buts-et-les-non-buts&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Créez et comprennent les figures suivants dans votre blogpost et brièvement discutez vos observations (quelques phrases): &lt;br /&gt;Un histogramme de nombre de tirs (buts et non-buts séparés), regroupées (binned) par distance&lt;br /&gt;Un histogramme de nombre de tirs (buts et non-buts séparés), binned par angle &lt;br /&gt;Un histogramme 2D où un axe est la distance et l’autre est l’angle. Vous n’avez pas besoin de séparer les buts et les non-buts.&lt;/span&gt;&lt;/h5&gt;

&lt;h5 id=&quot;créez-et-incluez-les-figures-suivantes-dans-votre-billet-de-blog-et-discutez-brièvement-de-vos-observations-quelques-phrases&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Créez et incluez les figures suivantes dans votre billet de blog et discutez brièvement de vos observations (quelques phrases).&lt;/span&gt;&lt;/h5&gt;

&lt;h4 id=&quot;histogramme-du-nombre-de-tirs-regroupées-par-distance&quot;&gt;histogramme du nombre de tirs regroupées par distance&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_1_a.png&quot; alt=&quot;Shot_binned_by_distance&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Comme nous l’avions déjà remarqué lors du milestone 1, le nombre de tirs conduisant à un but est minoritaire.
Pour tous les tirs, la distance de tir la plus populaire est de presque 75 pieds, soit au niveau de la ligne bleue. En s’éloignant de la ligne bleue en s’écartant du filet, le nombre de tentative décroit de façon exponentielle.&lt;br /&gt;
En se rapprochant du filet, le nombre de tentatives décroit plus doucement jusqu’à une distance de 25 pieds. Les tentatives à une distance inférieure à 25 pieds sont très minoritaire, notamment pour les buts. cela est surement du à la présence de la défense de l’equipe adverse &lt;br /&gt;
Certaines tentatives sont effectuées entre 125 et 175 pieds mais très peu d’entre elles conduisent effectivement à des buts.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;histogramme-du-nombre-de-tirs-regroupées-par-angle&quot;&gt;histogramme du nombre de tirs regroupées par angle&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_1_b.png&quot; alt=&quot;Shot_binned_by_angle&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/milestone_2/Q2/nb_shot_by_angle.png&quot; alt=&quot;Nombre de tirs regroupés par distance&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;pour les angles nous avont considéré deux cas: discriminer les angles de part et d’autre du filet ou pas. nous avont pu constater que les interpretations sont assez similaires ainsi pour plus de simpliciter nous ne feront pas de discrimination d’angle dans la suite de ce devoir.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nous pouvont constater que la majorité des tirs se font avec un angle compris entre 0 et 1 radian (0 et 57 degrés) par rapport à la normale au filet (i.e. La droite passant par les 2 filets).
En résumé, Les tirs qui ont le plus de succès sont ceux tentés bien en face du filet et les joueurs le savent : c’est leur angle de tir favori.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;un-histogramme-2d-où-un-axe-est-la-distance-et-lautre-est-langle&quot;&gt;Un histogramme 2D où un axe est la distance et l’autre est l’angle&lt;/h4&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_1_c.png&quot; alt=&quot;2D_histogram&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;On retrouve les informations que nous avons déjà vu. Compte tenu du nombre important de points, il est difficile de se rendre compte visuellement de la densité pour chaque zone du graphique. Pour nous aider, on s’appuie sur les histogrammes du graphique.&lt;/p&gt;

  &lt;p&gt;On retrouve l’idée que les tirs à une distance inférieure à 25 pieds sont très peu nombreux. (voir histogramme).
Les tirs à une distance de 75 pieds sont les plus nombreux et sont préférables pour marquer.&lt;/p&gt;

  &lt;p&gt;Meme observation pour les angles,les tires qui ont le plus de chance de se solder par un but sont ceux en face du fillet&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;question-2&quot;&gt;Question 2&lt;/h1&gt;

&lt;h5 id=&quot;maintenant-créez-deux-autres-figures-reliant-le-taux-de-but-cest-à-dire-buts--pad_de_buts--buts-à-la-distance-et-le-taux-de-but-à-langle-du-tir-incluez-ces-figures-dans-votre-article-de-blog-et-discutez-brièvement-de-vos-observations&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Maintenant, créez deux autres figures reliant le taux de but, c’est-à-dire #buts / (#pad_de_buts + #buts), à la distance et le taux de but à l’angle du tir. Incluez ces figures dans votre article de blog et discutez brièvement de vos observations.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;Taux de buts en fonction de la distance et de l’angle&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_2_a.png&quot; alt=&quot;Nombre de tirs regroupés par distance&quot; style=&quot;display:inline-block; width:50%; float:left;&quot; /&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_2_b.png&quot; alt=&quot;Nombre de tirs regroupés par distance&quot; style=&quot;display:inline-block; width:50%; float:right;&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Du point de vue de la distance, le plus fort taux de but correspond à une distance de 57 à 76 pieds.
On peut donc recommander de tirer au niveau de la ligne bleue.
Si très peu de tir sont tenté depuis la zone de défense de l’equipe qui ataque, il semble que le taux de réussite soit également important. Nous remettrons celà en question dans la section suivante.&lt;/p&gt;

  &lt;p&gt;Du point de vue de l’angle de tir, le taux de réussite est le plus élevé pour les tirs en face du filet.
Il semble que les tir avec un angle extrème d’environ 3 radian (presque 180 degrés) ont égalment un bon taux de réussite. Il se peut que ces tirs en particuliers s’appuyent sur le rebond du palais sur un adversaire ou sur le goal pour le faire entrer dans le filet.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;question-3&quot;&gt;Question 3&lt;/h1&gt;

&lt;h5 id=&quot;créez-un-autre-histogramme-cette-fois-de-buts-uniquement-classés-par-distance-et-séparez-les-événements-nets-vides-et-non-vides-incluez-ce-chiffre-dans-votre-article-de-blog-et-discutez-de-vos-observations-pouvez-vous-trouver-des-événements-qui-ont-des-caractéristiques-incorrectes-par-exemple-de-mauvaises-coordonnées-xy--si-oui-prouvez-quun-événement-a-des-caractéristiques-incorrectes&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Créez un autre histogramme, cette fois de buts uniquement, classés par distance, et séparez les événements nets vides et non vides. Incluez ce chiffre dans votre article de blog et discutez de vos observations. Pouvez-vous trouver des événements qui ont des caractéristiques incorrectes (par exemple, de mauvaises coordonnées x/y) ? Si oui, prouvez qu’un événement a des caractéristiques incorrectes.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;Nombre de buts en fonction de l’état du filet&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Feature_Engineering/question_1_3_a.png&quot; alt=&quot;Goal_by_empty_net_or_not&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;On peut remarquer un certain nombre de buts marqués entre 150 et 175 pieds, soit dans la zone de défense.&lt;/p&gt;

&lt;/blockquote&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Question 1</summary></entry><entry><title type="html">Modèles de base</title><link href="http://localhost:4000/jekyll/update/2021/11/30/3-Baseline_models.html" rel="alternate" type="text/html" title="Modèles de base" /><published>2021-11-30T12:30:06-05:00</published><updated>2021-11-30T12:30:06-05:00</updated><id>http://localhost:4000/jekyll/update/2021/11/30/3-Baseline_models</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/11/30/3-Baseline_models.html">&lt;h1 id=&quot;question-1&quot;&gt;Question 1&lt;/h1&gt;

&lt;h5 id=&quot;évaluez-la-précision-cest-à-dire-correctement-prédite--totale-de-votre-modèle-sur-lensemble-de-validation-que-remarquez-vous--regardez-les-prédictions-et-discutez-de-vos-découvertes-quel-pourrait-être-un-problème-potentiel-incluez-ces-discussions-dans-votre-article-de-blog&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Évaluez la précision (c’est-à-dire correctement prédite / totale) de votre modèle sur l’ensemble de validation. Que remarquez-vous ? Regardez les prédictions et discutez de vos découvertes. Quel pourrait être un problème potentiel? Incluez ces discussions dans votre article de blog.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;Pour cette question, nous chargeons un Dataset avec 70% des données de 2015 à 2018 réservées à l’entraînement et les 30% restant à la validation.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/Baseline_modeles/accuracy.png&quot; alt=&quot;baseline model accuracy&quot; /&gt;
    &lt;img src=&quot;/assets/Baseline_modeles/confusion_matrix.png&quot; alt=&quot;baseline model confusion atrix&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;La précision de notre algorithme est excellentissime avec une accuracyde plus de 90% ! C’est magnifique ! Pas besoin d’aller plus loin…&lt;/p&gt;

  &lt;p&gt;MAIS que prédit-on ?&lt;/p&gt;

  &lt;p&gt;le modèle prédit tous les tires comme n’étant pas des buts.
Finalement, on ne fait que prédire la classe majoritaire. Un premier problème est que le nombre de “non-buts” est très important face au nombre de buts.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;question-2-3&quot;&gt;Question 2-3&lt;/h1&gt;

&lt;h5 id=&quot;entraînez-maintenant-deux-autres-classificateurs-de-régression-logistique-en-utilisant-la-même-configuration-que-ci-dessus-mais-cette-fois-sur-la-fonction-dangle-puis-à-la-fois-sur-la-distance-et-langle-produisez-les-trois-mêmes-courbes-que-celles-décrites-dans-la-section-précédente-pour-chaque-modèle-y-compris-la-ligne-de-base-aléatoire-vous-devriez-avoir-un-total-de-4-lignes-sur-chaque-figure-régression-logistique-entraînée-sur-la-distance-uniquement-déjà-fait-ci-dessusrégression-logistique-entraînée-sur-l-angle-uniquementrégression-logistique-entraînée-sur-la-distance-et-l-angleligne-de-base-aléatoire--probabilité-prédite-est-échantillonné-à-partir-dune-distribution-uniforme-cest-à-dire-yiu01incluez-ces-quatre-figures-chacune-avec-quatre-courbes-dans-votre-article-de-blog-en-quelques-phrases-discutez-de-votre-interprétation-de-ces-résultats&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Entraînez maintenant deux autres classificateurs de régression logistique en utilisant la même configuration que ci-dessus, mais cette fois sur la fonction d’angle, puis à la fois sur la distance et l’angle. Produisez les trois mêmes courbes que celles décrites dans la section précédente pour chaque modèle. Y compris la ligne de base aléatoire, vous devriez avoir un total de 4 lignes sur chaque figure :&lt;br /&gt;Régression logistique, entraînée sur la distance uniquement (déjà fait ci-dessus)&lt;br /&gt;Régression logistique, entraînée sur l’ angle uniquement&lt;br /&gt;Régression logistique, entraînée sur la distance et l’ angle&lt;br /&gt;Ligne de base aléatoire : probabilité prédite est échantillonné à partir d’une distribution uniforme, c’est-à-dire yiU(0,1)&lt;br /&gt;Incluez ces quatre figures (chacune avec quatre courbes) dans votre article de blog. En quelques phrases, discutez de votre interprétation de ces résultats.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;Courbes ROC et métrique AUC&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Baseline_modeles/Figure_1.png&quot; alt=&quot;ROC curve and AUC metrics&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;la courbe ROC et la métrique AUCqui est l’air sous la courbe ROC permettent d’évaluer la capacité d’un modèle et effectuer de bonne prédictions, ainsi un modèle parfait tendrait à se placer dans le coin supérieur gauche de la courbe ROC avec un fort taux de vrai positif et un faible taux de faux positifs&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;le modèle basé sur la distance est le moins bon de tous les modèles, mais meilleur que le modèle aléatoire, avec un taux de faux positif plus important aux début de la courbe mais qui s’améliore le long du reste. Nous croyons que cela pourrait être dû aux valeurs aberrantes tels que les tires effectuées depuis la zone de défense de l’équipe en attaque.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Les modèles basés sur l’angle et sur la combinaison de l’angle et de la distance ont des performances presqu’identiques. Globalement, ces modèles performent mieux que celui basé sur la distance uniquement.
En effet, Pour un même taux de faux positif, le taux de vrai positif est plus important.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Compte tenu du fait que ces deux modèles performent
 de la même façon, nous pouvons conclure que non seulement l’angle est une meilleure caractéristique mais en plus la distance n’apporte pas une information cruciale pour la prédiction.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Taux de buts (#buts / (#non_buts + #buts)) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Baseline_modeles/Figure_2.png&quot; alt=&quot;Goal_rate_percentile&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;En toute logique, un classifieur
 aléatoire prédit le même pourcentage de but pour chaque centile. C’est confirmé par notre tracé.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;De manière générale pour les modèles de régression logistique, les courbes sont croissantes et convergent vers vers le 100ieme
 centile. Cela s’explique par le fait que plus un tire est susceptible d’être un but, plus la probabilité que lui attribue le modèle est elevée,ainsi plus la probabilité est élevée plus il y a de buts.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Encore une fois, les modèles basés sur l’angle seul et sur la combinaison angle-distance performent
 de la même manière et beaucoup mieux car leur croissance est plus harmonieuse.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Proportion cumulée de buts (pas de tirs) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Baseline_modeles/Figure_3.png&quot; alt=&quot;Goal_cumulative_proportion_percentile&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Cette courbe est assez similaire a la courbe ROC.&lt;br /&gt;
En effet, on a affiché le taux de positif prédit / nombre total de positif réel. Cette valeur est proportionnelle au taux de vrai positif.
Du point de vue des centiles, plus le centile baisse, plus la proportion de faux positif dans l’ensemble pris en compte augmente.
Les deux axes sont donc proportionnels au taux de vrai positif et au taux de faux positif. L’échelle étant la même, les courbes sont semblables.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Les diagrammes de fiabilité (courbe de calibration)&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/Baseline_modeles/Figure_4.png&quot; alt=&quot;calibration_curve&quot; /&gt;
    &lt;img src=&quot;/assets/Baseline_modeles/Figure_4_zoom.png&quot; alt=&quot;calibration_curve_zoom&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Analyse&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Vu l’étendue des probabilités retournée par nos différents modèles, il est difficile de statuer sur ce graphique.&lt;br /&gt;
Notons cependant que les courbes de qualibration de nos modèles ne sont pas confondu avec la courbe optimale et penchent plus du côté de la courbe du classifieur aléatoire.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;h1 id=&quot;question-4&quot;&gt;Question 4&lt;/h1&gt;
&lt;h5 id=&quot;à-côté-des-figures-incluez-des-liens-vers-les-trois-entrées-dexpérience-dans-vos-projets-cometml-qui-ont-produit-ces-trois-modèles-enregistrez-les-trois-modèles-dans-les-trois-expériences-sur-cometml-exemple-ici-et-inscrivez-les-avec-des-balises-informatives-car-vous-en-aurez-besoin-pour-la-section-finale&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;À côté des figures, incluez des liens vers les trois entrées d’expérience dans vos projets comet.ml qui ont produit ces trois modèles. Enregistrez les trois modèles dans les trois expériences sur comet.ml (exemple ici) et inscrivez-les avec des balises informatives, car vous en aurez besoin pour la section finale.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-entrainé-avec-les-distances-est-disponible-ici&quot;&gt;-Le modèle entrainé avec les distances est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/0baf66b30afe41df8afe49c02e8da4e1?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-entrainé-avec-les-angles-est-disponible-ici&quot;&gt;-Le modèle entrainé avec les angles est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/ee33cb808231438dbccd8ff6348650a6?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-entrainé-avec-les-distances-et-les-angles-est-disponible-ici&quot;&gt;-Le modèle entrainé avec les distances et les angles est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/750e55985bd24586a5df9de4af2bbaa6?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Question 1</summary></entry><entry><title type="html">Engénierie des caracteristiques 2</title><link href="http://localhost:4000/jekyll/update/2021/11/30/4-Feature_Engineering_two.html" rel="alternate" type="text/html" title="Engénierie des caracteristiques 2" /><published>2021-11-30T12:30:05-05:00</published><updated>2021-11-30T12:30:05-05:00</updated><id>http://localhost:4000/jekyll/update/2021/11/30/4-Feature_Engineering_two</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/11/30/4-Feature_Engineering_two.html">&lt;h1 id=&quot;question-5&quot;&gt;Question 5&lt;/h1&gt;

&lt;h5 id=&quot;dans-votre-article-de-blog-ajoutez-une-liste-de-toutes-les-caractéristiques-que-vous-avez-créées-pour-cette-section-répertoriez-chaque-caractéristique-à-la-fois-par-le-nom-de-la-colonne-dans-votre-cadre-de-données-et-par-une-explication-simple-et-lisible-par-lhumain-cest-à-dire-game_sec--nombre-total-de-secondes-écoulées-dans-le-jeu-si-vous-avez-créé-de-nouvelles-caractéristiques-décrivez-brièvement-ce-quelles-sont-ajoutez-un-lien-vers-lexpérience-qui-stocke-lartefact-dataframe-filtré-pour-le-jeu-spécifié-notez-quil-ne-doit-y-avoir-quun-seul-dataframe-inscrit-avec-ce-nom-voir-l-annexe-pour-un-exemple-de-ce-que-nous-recherchons&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Dans votre article de blog, ajoutez une liste de toutes les caractéristiques que vous avez créées pour cette section. Répertoriez chaque caractéristique à la fois par le nom de la colonne dans votre cadre de données ET par une explication simple et lisible par l’humain (c’est-à-dire game_sec : nombre total de secondes écoulées dans le jeu). Si vous avez créé de nouvelles caractéristiques, décrivez brièvement ce qu’elles sont. Ajoutez un lien vers l’expérience qui stocke l’artefact DataFrame filtré pour le jeu spécifié. Notez qu’il ne doit y avoir qu’un seul DataFrame inscrit avec ce nom. Voir l’ annexe pour un exemple de ce que nous recherchons.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;Liste des caractéristiques:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;“&lt;strong&gt;event_type&lt;/strong&gt;” : type de l’événement&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;shot_type&lt;/strong&gt;” : type de tir&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;game_seconds&lt;/strong&gt;” : secondes écoulées dans le jeu&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;coord_x&lt;/strong&gt;” : coordonnée X&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;coord_y&lt;/strong&gt;” : coordonnée Y&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;distance_from_net&lt;/strong&gt;” : distance au filet en pieds&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;angle_from_net&lt;/strong&gt;” : angle de tir en radian (0 : en face du filet)&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;which_period&lt;/strong&gt;” : période de jeu&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;“&lt;strong&gt;empty_net&lt;/strong&gt;” : True si le filet est vide, False sino&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;pre_event_type&lt;/strong&gt;” : type de l’événement précédent&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;rebound&lt;/strong&gt;” : True si le coup est un rebond (i.e. le coup précédent est un Shot), False sinon.&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;pre_coord_x&lt;/strong&gt;” : coordonnée X de l’événement précédent&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;pre_coord_y&lt;/strong&gt;” : coordonnée Y de l’événement précédent&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;time_since_last_event&lt;/strong&gt;” : temps en seconde écoulé depuis le dernier événement&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;distance_from_last_event&lt;/strong&gt;” : distance en pieds de l’événement par rapport au récédent&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;change_in_shot_angle&lt;/strong&gt;” : diférence absolue entre l’angle de tir précédent et le nouveau. 0 si le coup n’est pas un rebond.&lt;/li&gt;
  &lt;li&gt;“&lt;strong&gt;speed&lt;/strong&gt;” : vitesse de déplacement en pieds par secondes&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;-le-dataframe-filtré-est-disponible-ici-il-sagit-du-fichier-qui-pèse-2103kb&quot;&gt;-Le Dataframe filtré est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/bfe75c4ee94443359b2546f8937a431e?assetId=9d330bbc1417452cb59493a8f0136d20&amp;amp;assetPath=dataframes&amp;amp;experiment-tab=assets&quot;&gt;ici&lt;/a&gt;. Il s’agit du fichier qui pèse 21.03KB.&lt;/h4&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Question 5</summary></entry><entry><title type="html">Donnez-lui votre meilleur coup</title><link href="http://localhost:4000/jekyll/update/2021/11/30/6-Give_it_your_best_shot.html" rel="alternate" type="text/html" title="Donnez-lui votre meilleur coup" /><published>2021-11-30T12:30:03-05:00</published><updated>2021-11-30T12:30:03-05:00</updated><id>http://localhost:4000/jekyll/update/2021/11/30/6-Give_it_your_best_shot</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/11/30/6-Give_it_your_best_shot.html">&lt;h1 id=&quot;question-1&quot;&gt;Question 1&lt;/h1&gt;

&lt;h5 id=&quot;dans-votre-article-de-blog-discutez-des-différentes-techniques-et-méthodes-que-vous-avez-essayées-incluez-les-quatre-mêmes-figures-que-dans-la-partie-3-courbe-rocauc-taux-de-buts-par-rapport-au-centile-de-probabilité-proportion-cumulée-de-buts-par-rapport-au-centile-de-probabilité-et-courbe-de-fiabilité-les-mesures-quantitatives-ne-sont-nécessaires-que-pour-quelques-ensembles-dexpériences-vous-navez-donc-besoin-dinclure-que-quelques-courbes-sur-chaque-tracé-par-exemple-des-choses-que-vous-avez-trouvées-intéressantes-ou-des-modèles-qui-ont-particulièrement-bien-fonctionné-assurez-vous-dinclure-et-de-mettre-en-évidence-ce-que-vous-considérez-comme-votre-meilleur-modèle-final-pour-les-méthodes-qui-nont-pas-été-très-efficaces-ou-intéressantes-vous-pouvez-simplement-les-inclure-sous-forme-de-brève-discussion-qualitative&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;Dans votre article de blog, discutez des différentes techniques et méthodes que vous avez essayées. Incluez les quatre mêmes figures que dans la Partie 3 (courbe ROC/AUC, taux de buts par rapport au centile de probabilité, proportion cumulée de buts par rapport au centile de probabilité et courbe de fiabilité). Les mesures quantitatives ne sont nécessaires que pour quelques ensembles d’expériences, vous n’avez donc besoin d’inclure que quelques courbes sur chaque tracé (par exemple, des choses que vous avez trouvées intéressantes ou des modèles qui ont particulièrement bien fonctionné). Assurez-vous d’inclure et de mettre en évidence ce que vous considérez comme votre meilleur modèle «final». Pour les méthodes qui n’ont pas été très efficaces ou intéressantes, vous pouvez simplement les inclure sous forme de brève discussion qualitative.&lt;/span&gt;&lt;/h5&gt;
&lt;h4 id=&quot;-les-courbes-receiver-operating-characteristic-roc-et-la-métrique-auc-de-la-courbe-roc&quot;&gt;-Les courbes Receiver Operating Characteristic (ROC) et la métrique AUC de la courbe ROC&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Give_it_your_best_shot/question_6_Figure_1.png&quot; alt=&quot;ROC_AUC_cureve&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-les-courbes-du-taux-de-buts-en-fonction-du-centile-du-modèle-de-probabilité-de-tir&quot;&gt;-Les courbes du taux de buts en fonction du centile du modèle de probabilité de tir&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Give_it_your_best_shot/question_6_Figure_2.png&quot; alt=&quot;Goal_rate_percentile&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-les-courbes-de-la-proportion-cumulée-de-buts-en-fonction-du-centile-du-modèle-de-probabilité-de-tir&quot;&gt;-Les courbes de la proportion cumulée de buts en fonction du centile du modèle de probabilité de tir.&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Give_it_your_best_shot/question_6_Figure_3.png&quot; alt=&quot;Goal_cumulative_proportion_percentile&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-les-diagrammes-de-fiabilité-courbe-de-calibration&quot;&gt;-Les diagrammes de fiabilité (courbe de calibration)&lt;/h4&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/Give_it_your_best_shot/question_6_Figure_4.png&quot; alt=&quot;calibration_curve&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Discussion&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Afin d’essayer de trouver un meilleur modèle pour prédire les buts espèrés, nous avons testé trois classifieurs supplémentaires qui sont: MLP, Decision_tree et votingclassifier qui se base sur la combinaison des deux precedent.sur nos trois classificateur, nous avons procédé à une recherche aléatoire d’hyperparametres entrainé avec tous les features extrait lors de la question 4.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Pour l’évaluation de nos models nous avons procédé par validation croisée stratifiée afin de conserver la proportion des classes dans chaque sous-ensemble. nous avons aussi voulu observer la précision de nos models à travers une autre métrique, la F1 score qui est une moyenne harmonique de la précision et du rappel. le score F1 de nos modèles ne dépassait pas les 2%, nous avons donc conclu que ce n’était pas un bon moyen d’évaluer la précision. Néanmoins, nous l’avons gardé ne serait-ce que pour avoir un autre point de vue sur ces configurations. Nos résultats avec l’AUC étaient de 70% pour l’arbre de décision et de 73% pour le MLP et le votingclassifier .&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Dans le but d’améliorer nos résultats nous avons cherché un autre moyen de normaliser nos données. Jusque-là nous utilisions le minmaxscale, nous sommes donc passés aux power transforms afin de rendre nos données plus gaussiennes. cela nous a permis d’augmenter légèrement nos résultats, passant à 72% pour l’arbre de décision et à 75% pour le MLP et le votingclassifier. nous avons aussi tenté une réduction de dimensionnalité sur nos données grâce à la PCA et une feuture sélection avec l’algorithme du selectKbest avec le Ch2 comme fonction de score mais cela n’a pas été très concluant.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Le meilleur modèle que nous avons obtenu est le MLP avec les features de base sur lesquels on a appliqué des power transforms au départ ce dernier était au coude à coude avec le votingclassifier,le diagramme de fiabilité nous a permis de les départager. comme l’illustre la figure ci-dessus, le MLP était le model le mieux calibré.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;h1 id=&quot;question-2&quot;&gt;Question 2&lt;/h1&gt;
&lt;h5 id=&quot;à-côté-des-figures-incluez-des-liens-vers-lentrée-dexpérience-dans-vos-projets-cometml-pour-lesquels-vous-avez-inclus-des-métriques-quantitatives-environ-3-4connectez-les-modèles-aux-expériences-sur-cometml-exemple-ici-et-inscrivez-les-avec-des-balises-informatives&quot;&gt;&lt;span style=&quot;color:grey&quot;&gt;À côté des figures, incluez des liens vers l’entrée d’expérience dans vos projets comet.ml pour lesquels vous avez inclus des métriques quantitatives (environ 3-4).Connectez les modèles aux expériences sur comet.ml (exemple ici) et inscrivez-les avec des balises informatives.&lt;/span&gt;&lt;/h5&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-basé-sur-les-arbres-de-decision-est-disponible-ici&quot;&gt;-Le modèle basé sur les arbres de decision est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/4db124cb82f648cab4f9e53c62bfc846?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-basé-sur-les-réseaux-de-neurones-est-disponible-ici&quot;&gt;-Le modèle basé sur les réseaux de neurones est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/11fed86d708d4988a28d7233ff8f527f?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;-le-modèle-basé-sur-le-bagging-est-disponible-ici&quot;&gt;-Le modèle basé sur le bagging est disponible &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/e35380f848584d2fa5a7da255ccfbce1?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;&lt;/h4&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Question 1</summary></entry><entry><title type="html">Évaluer sur l’ensemble de test</title><link href="http://localhost:4000/jekyll/update/2021/11/30/7-Evaluate_test_set.html" rel="alternate" type="text/html" title="Évaluer sur l’ensemble de test" /><published>2021-11-30T05:30:02-05:00</published><updated>2021-11-30T05:30:02-05:00</updated><id>http://localhost:4000/jekyll/update/2021/11/30/7-Evaluate_test_set</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/11/30/7-Evaluate_test_set.html">&lt;h1 id=&quot;question-1-la-saison-régulière&quot;&gt;Question 1 (la saison régulière)&lt;/h1&gt;

&lt;p&gt;Plusieurs choses intéressante émanent de ce test sur les données d’une nouvelle saison (qui n’ont pas été utilisées pour entraîner le modèle). Nous nous concentrerons ici sur la comparaison du modèle XGBoost et MLP. Dans les deux cas, les modèles performent moins biens que sur les données d’entraînement. On passe en effet, pour la mesure AUC, de 0.75 à 0.72 pour MLP, et de 0.75 à 0.73 pour XGBoost. Chose étrange, MLP semble être très bien calibré pour les probabilités prédites entre 0.0 et 0.75, mais il devient extrêmement mauvais par la suite. Cela semble signifier qu’il se met à donner des très haute probabilités à des tirs qui ne sont pas de buts. XGBoost n’a pas ce problème. En effet, ces prédictions semblent d’améliorer lorsque les probabilités qu’il attribue à un tir sont hautes. Pour ce qui est de la régression linéaire, on voit que ses performances ne changent à peu près pas (on reste à 0.70 d’AUC). Ce modèle est moins performant mais il ne perd pas en perfomance lorsqu’il rencontre de nouvelles données&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Les diagrammes de fiabilité (courbe de calibration)&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/regular_calibration.png&quot; alt=&quot;Calibration&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Proportion cumulée de buts (pas de tirs) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/regular_goal_cumul.png&quot; alt=&quot;Goal cumul&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Taux de buts (#buts / (#non_buts + #buts)) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/regular_rate_curve.png&quot; alt=&quot;rate curve6&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Courbes ROC et métrique AUC&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/regular_roc_curve.png&quot; alt=&quot;roc_curve&quot; /&gt;
&lt;/p&gt;

&lt;h1 id=&quot;question-2-les-séries-éliminatoires&quot;&gt;Question 2 (les séries éliminatoires)&lt;/h1&gt;

&lt;p&gt;Ce qu’on peut remarquer, pour les séries éliminatoires, c’est la totale déconfiture de MLP. On doit pouvoir en conclure que ce modèle souffre d’un surapprentissage sur les données des saisons régulières. XGBoost s’en sort, quant à lui, assez bien en passant à un AUC de 0.72. Chose intéressante est la stabilité des modèles de régression logistique. On doit pouvoir en conclure que les caractéristiques sur lesquels sont entraînés ces modèles sont relativement fiables, peu importe si l’on se trouve en séries éliminatoire ou en saison régulière.
&lt;br /&gt;
 &lt;br /&gt;
Les diagrammes de fiabilité (courbe de calibration)&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/playoff_calibration.png&quot; alt=&quot;Calibration&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Proportion cumulée de buts (pas de tirs) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/playoff_goal_cumul.png&quot; alt=&quot;Goal cumul&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Taux de buts (#buts / (#non_buts + #buts)) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/playoff_rate_curve.png&quot; alt=&quot;rate curve6&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Courbes ROC et métrique AUC&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_7/playoff_roc_curve.png&quot; alt=&quot;roc_curve&quot; /&gt;
&lt;/p&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Question 1 (la saison régulière)</summary></entry><entry><title type="html">Modèles avancés</title><link href="http://localhost:4000/jekyll/update/2021/10/15/5-Advanced_Models.html" rel="alternate" type="text/html" title="Modèles avancés" /><published>2021-10-15T10:52:00-04:00</published><updated>2021-10-15T10:52:00-04:00</updated><id>http://localhost:4000/jekyll/update/2021/10/15/5-Advanced_Models</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/10/15/5-Advanced_Models.html">&lt;p&gt;&lt;strong&gt;Les quatres figures se trouvent à la toute fin de la page.&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;question-1&quot;&gt;Question 1&lt;/h1&gt;

&lt;p&gt;L’entrainement du modèle de base a été effectué en séparant les données des saisons régulière de 2015 à 2018 en deux ensembles. L’ensemble de validation contient 70% des données et l’ensemble test 30%. Les tests qui permettent d’évaluer la performance du modèle ont été fait sur ce dernier ensemble. Avec une mesure AUC de 0.72, on voit que le modèle entraîné avec XGBoost performe un peu mieux que le modèle entraîné grâce à une régression logistique qui avait atteint un pointage de 0.70. Comme pour la régression logistique, nous pouvons voir sur le diagramme de fiabilités que notre modèle surestime la probabilité qu’un tir soit un but. En effet, dans les deux cas, la courbe de calibration est relativement sous la droite pointillé (qui ndique ce que produirait un modèle parfaitement calibré). Les courbres de pourcentages cumulés de buts et de taux de but sont relativement similaires. En conclusion, le modèle XGBoost performe un peu mieux si l’on se fit à la mesure AUC, mais la différence n’est pas très impressionnante.&lt;/p&gt;

&lt;h1 id=&quot;question-2&quot;&gt;Question 2&lt;/h1&gt;
&lt;p&gt;Pour le règlages des hyperparamètres, nous avons effectué une recherche sur grille avec validation croisé sur trois hyperparamètres. Voici le code qui générait la grille dans laquelle la recherche était faite :&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gridsearch_parameters = [
    (scale_pos_weight, max_depth, min_child_weight)
    for scale_pos_weight in range(1,8,2)
    for max_depth in range(4,9)
    for min_child_weight in range(4,9)
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scale_pos_weight&lt;/code&gt; est un hyperparamètre qui a pour rôle de corriger le biais de notre modèle lorsque les deux classes sont débalancés, comme c’est notre cas. En effet, seulement 10% des tirs sont des buts, il y a donc 9 fois plus de tirs que de buts. Les deux autres hyperparamètres, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max_depth&lt;/code&gt; et &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;min_child_weight&lt;/code&gt; permettent de trouver un équilbre entre le biais et la variance de notre modèle. Nous nous sommes inspiré de cet &lt;a href=&quot;https://blog.cambridgespark.com/hyperparameter-tuning-in-xgboost-4ff9100a3b2f&quot;&gt;article de blog&lt;/a&gt; pour trouver ces deux hyperparamètres. Pour chaque ensemble d’hyperparamètres, nous avons effectué une validation croisée sur nos données d’entraînement. Les valeurs qui ont donné les meilleurs résultats étaient :
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scale_pos_weight = 5&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max_depth = 6&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;min_child_weight = 4&lt;/code&gt;. &lt;br /&gt;
Par la suite, nous avons entrainé notre modèle avec ces hyperparamètres en faisant encore une division 70-30. Notre modèle a légèrement mieux performé que notre modèle de base XGBoost, passant d’une mesure AUC de 0.72 à 0.75. On peut aussi voir sur la courbe de proportion cumulée de buts que la courbe de ce modèle (Hyper_tune_XGBoost) monte légèrement plus rapidement que les autres courbes. Cela signifie qu’il y a un plus grand pourcentage de buts parmis les tirs auxquels notre modèle attribue une haute probabilité.
On peut trouver l’entré comet du modèle &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/6d557b5daa31414fb40929db0a5d0e3f?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=wall&quot;&gt;ici&lt;/a&gt;. La première courbe correspond à la mesure AUC lors de la recherche sur grille des hyperparamètres optimaux.&lt;/p&gt;

&lt;h1 id=&quot;question-3&quot;&gt;Question 3&lt;/h1&gt;
&lt;p&gt;Nous avons testé deux techniques de sélection des caractéristiques fournis par &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sklearn&lt;/code&gt;, soit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mutual_info_classif&lt;/code&gt; et &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SelectFromModel&lt;/code&gt;. Ces deux techniques ont été vus dans le cours et appartiennent à deux catégories de techniques de sélection de caractéristique. La première par filtrage, et la seconde par recherche (wrapper methods).
Pour les hyperparamètres, nous avons simplement réutilisés ceux de la précédente question. &lt;br /&gt;
Pour faire nos tests, nous nous sommes pris de la manière suivante. Nous avons utilisé une des deux techniques de sélection de caractéristique, puis nous avons pris les meilleures caractéristiques selon chachune de ces deux techniques. Nous avons ensuite testé notre modèle avec les &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt; meilleures caractéristiques. D’abord la meilleure, puis les deux meilleurs, puis les trois meilleurs, etc. &lt;br /&gt;
Ce qu’on peut voir c’est que la performance des modèles (évaluée grâce à la mesure AUC) plafonne relativement rapidement au fur et à mesure que l’on ajoute des caractéristiques. &lt;br /&gt;
Voici donc les résultats des 10 premières itérations pour &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mutual_info_classif&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;0               1  0.507168
0               2  0.695008
0               3  0.714263
0               4  0.714950
0               5  0.714801
0               6  0.716310
0               7  0.720398
0               8  0.724755
0               9  0.725246
0              10  0.725606
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Et pour &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SelectFromModel&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; kbest_features       auc
0               1  0.658371
0               2  0.715486
0               3  0.715095
0               4  0.715705
0               5  0.719339
0               6  0.720572
0               7  0.723954
0               8  0.726061
0               9  0.728071
0              10  0.729421
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On voit que dans les deux cas, les gains de performance stagnent assez rapidement. Après 3 caractéristiques, les gains sont marginaux. Il ne vaut pas nécessairement la peine d’ajouter des caractéristiques passé ce seuil si l’objectif est de sauver de l’espace mémoire et améliorer la performance de l’entraînement. Voici donc les trois meilleurs caractéristiques selon &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mutual_info_classif&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rebound_1
angle_from_net
distance_from_net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Puis selon &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SelectFromModel&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;coord_x 
coord_y 
distance_from_net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Étant donné que les résultats du deuxième ensemble étaient légèrement meilleurs, nous les avons sélectionné ces trois derniers. &lt;br /&gt;
Vous trouverez &lt;a href=&quot;https://www.comet.ml/genkishi/milestone-2/40f1a1cd0a5b4d1c94ca9a0c2b250c89?experiment-tab=chart&amp;amp;showOutliers=true&amp;amp;smoothing=0&amp;amp;transformY=smoothing&amp;amp;xAxis=step&quot;&gt;ici&lt;/a&gt; la page comet du modèle.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Les diagrammes de fiabilité (courbe de calibration)&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_5/XGBoost_HT_calibration.png&quot; alt=&quot;Calibration&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Proportion cumulée de buts (pas de tirs) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_5/XGBoost_HT_goal_cumul.png&quot; alt=&quot;Goal cumul&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Taux de buts (#buts / (#non_buts + #buts)) en fonction du centile du modèle de probabilité de tir&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_5/XGBoost_HT_rate_curve.png&quot; alt=&quot;rate curve6&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;
 &lt;br /&gt;
Courbes ROC et métrique AUC&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/question_5/XGBoost_HT_roc_curve.png&quot; alt=&quot;roc_curve&quot; /&gt;
&lt;/p&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">Les quatres figures se trouvent à la toute fin de la page. Question 1</summary></entry></feed>