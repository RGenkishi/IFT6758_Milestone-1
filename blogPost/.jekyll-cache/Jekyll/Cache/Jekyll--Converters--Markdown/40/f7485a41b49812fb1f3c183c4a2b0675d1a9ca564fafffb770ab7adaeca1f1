I"‹<h1 id="question-1">Question 1</h1>

<h5 id="rÃ©digez-un-bref-tutoriel-sur-la-faÃ§on-dont-votre-Ã©quipe-a-tÃ©lÃ©chargÃ©-lensemble-de-donnÃ©es-imaginez--que-vous-cherchiez-un-guide-sur-la-faÃ§on-de-tÃ©lÃ©charger-les-donnÃ©es-play-by-play--votre-guide-devrait-vous-faire-dire-parfait---cest-exactement-ce-que-je-cherchais-cela-peut-Ãªtre-aussi-simple-que-de-copier-votre-fonction-et-un-exemple-dutilisation-et-dÃ©crire-une-ou-deux-phrases-la-dÃ©crivant"><span style="color:grey">RÃ©digez un bref tutoriel sur la faÃ§on dont votre Ã©quipe a tÃ©lÃ©chargÃ© lâ€™ensemble de donnÃ©es. Imaginez :) que vous cherchiez un guide sur la faÃ§on de tÃ©lÃ©charger les donnÃ©es play-by-play ; votre guide devrait vous faire dire â€œParfait - câ€™est exactement ce que je cherchais!â€. Cela peut Ãªtre aussi simple que de copier votre fonction et un exemple dâ€™utilisation, et dâ€™Ã©crire une ou deux phrases la dÃ©crivant.</span></h5>

<p>Lâ€™API qui permet dâ€™accÃ©der aux donnÃ©es des parties de la LNH est assez facile dâ€™utilisation. Lâ€™url de lâ€™API a le format suivant : https://statsapi.web.nhl.com/api/v1/game/ID/feed/live oÃ¹ ID reprÃ©sente lâ€™identifiant unique de la partie.
Lâ€™identifiant de la partie est sÃ©parÃ© en trois parties. Lâ€™annÃ©e de la saison, le type de partie (01 pour la prÃ©-saison, 02 pour la saison rÃ©guliÃ¨re, et 03 pour les sÃ©ries Ã©liminatoires), et lâ€™identifiant de la partie comme tel.</p>

<p>Pour la saison rÃ©guliÃ¨re, lâ€™identifiant de la partie est un nombre Ã  4 chiffres, de 0001 Ã  1271 (puisquâ€™il y a 1271 parties dans une saison rÃ©guliÃ¨re depuis la saison 2016-2017). Ainsi, pour prendre un exemple, la quatriÃ¨me partie de la saison rÃ©guliÃ¨re de 2016-2017 aurait lâ€™identifiant 2017020004.</p>

<p>Les choses se compliquent un peu pour lâ€™identifiant de partie des sÃ©ries Ã©liminatoires. Les sÃ©ries Ã©liminatoires voient sâ€™affronter 16 Ã©quipes et se dÃ©roule en 4 tours. Chaque tour (round) les Ã©quipes sâ€™affronter dans un 4 de 7. La premiÃ¨re Ã  remporter 4 parties (game) lâ€™emporte. Lors du premier tour, il y a 8 affrontements (matchup) entre 2 Ã©quipes, puis 4 au tour suivant, puis 2 et finalement 1. Lâ€™identifiant dâ€™une partie en sÃ©rie Ã©liminatoire est aussi un nombre de 4 chiffre. Le premier chiffre est un 0, le second est le numÃ©ro du tour, le troisiÃ¨me le numÃ©ro de lâ€™affrontement, puis le dernier est le numÃ©ro de partie. Ainsi, pour prendre un exemple, le troisiÃ¨me match du deuxiÃ¨me affrontement du premier tour des sÃ©ries Ã©liminatoire de la saison 2016-2017 aurait lâ€™identifiant 2017030123.</p>

<p>En python, on peut faire des requÃªtes Ã  un API grÃ¢ce Ã  la librairie <code class="language-plaintext highlighter-rouge">requests</code> et sa mÃ©thode <code class="language-plaintext highlighter-rouge">get()</code>. En passant lâ€™url de la requÃªte en paramÃ¨tre, on recevra les donnÃ©es sous format json. Voici le code que lâ€™on peut utiliser pour aller chercher toutes les donnÃ©es des parties pour une annÃ©e en saison rÃ©guliere.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>game_data = {}
max_game = 1271
season_type = "02"
for i in range(1, (max_game+1)):
    gameId = str(year) + season_type + str(i).zfill(4)
    response = requests.get(url=(self.api_url + gameId +"/feed/live"))
    game_data["regular" + gameId] = response.json()
    time.sleep(0.1)
</code></pre></div></div>

<p>Il est recommandÃ© une faire un time.sleep() dâ€™au moins un dixiÃ¨me de seconde entre chaque requÃªte afin de ne pas surchargÃ© lâ€™API et risquer de se faire bannir.</p>

<p>Pour aller chercher les donnÃ©es pour les sÃ©ries Ã©liminatoires, on peut utiliser le code suivant :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>game_data = {}
first_digit = 0
season_type = "03"

for round in range(1, 5):
    for matchup in range(1, ((8 // (2 ** (round - 1))) + 1)):
        for game in range(1, 8):
            game_id = str(year) + season_type + str(first_digit) + str(round) + str(matchup) + str(game)
            url = (self.api_url + game_id + "/feed/live")
            print(url)
            response = requests.get(url=(self.api_url + game_id + "/feed/live"))
            if (response.status_code == 404):
                time.sleep(0.1)
                break
            game_data["playoff" + game_id] = response.json()
            time.sleep(0.1)
</code></pre></div></div>

:ET